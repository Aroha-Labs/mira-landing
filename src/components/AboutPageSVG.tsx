"use client";

import React, { useEffect, useState } from "react";
import { usePreload } from "@/context/PreloadContext";

const AboutPageSVG = () => {
  const { isLoaded } = usePreload();
  const [isActive, setIsActive] = useState(false);

  useEffect(() => {
    let timer: NodeJS.Timeout;

    if (isLoaded) {
      // Wait for preload and add a delay for smoother transition
      timer = setTimeout(() => {
        setIsActive(true);
      }, 1000); // Increased delay to ensure everything is ready
    }

    return () => {
      if (timer) clearTimeout(timer);
    };
  }, [isLoaded]);

  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="100%"
      height="100%"
      viewBox="0 0 470 439"
      className={`${isActive ? "active" : ""} mt-[34px] scale-110 sm:scale-80 xl:scale-90`}
    >
      <path
        d="M 285.774 1.308 L 285.513 0.916 L 285.106 1.153 L 238.544 28.315 L 238.296 28.459 L 238.296 28.747 L 238.296 46.514 L 238.296 46.666 L 238.381 46.792 L 268.108 91.123 L 268.222 91.293 L 268.424 91.334 L 270.351 91.723 L 270.95 91.844 L 270.95 91.233 L 270.95 74.168 L 316.242 47.968 L 316.703 47.701 L 316.407 47.258 Z M 197.498 81.447 L 197.759 81.839 L 223.085 119.828 L 223.381 120.272 L 222.919 120.539 L 185.517 142.175 L 185.517 156.234 L 185.517 156.844 L 184.918 156.724 L 183.325 156.402 L 183.123 156.362 L 183.009 156.191 L 158.431 119.54 L 158.347 119.414 L 158.347 119.262 L 158.347 104.572 L 158.347 104.285 L 158.595 104.14 L 197.091 81.684 Z M 75.559 118.898 L 75.298 118.506 L 74.892 118.743 L 0.358 162.221 L 0.11 162.365 L 0.11 162.653 L 0.11 191.093 L 0.11 191.245 L 0.195 191.371 L 47.779 262.332 L 47.894 262.503 L 48.096 262.543 L 51.181 263.165 L 51.78 263.286 L 51.78 262.675 L 51.78 235.186 L 124.429 193.16 L 124.89 192.893 L 124.594 192.45 Z M 239.279 321.047 L 239.017 320.655 L 238.611 320.892 L 148.258 373.679 L 148.01 373.824 L 148.01 374.111 L 148.01 392.281 L 148.01 392.433 L 148.094 392.559 L 178.495 437.894 L 178.61 438.065 L 178.812 438.106 L 180.783 438.504 L 181.382 438.624 L 181.382 438.013 L 181.382 420.554 L 270.442 368.747 L 270.901 368.48 L 270.606 368.038 Z M 447.212 239.845 L 447.473 240.237 L 469.018 272.554 L 469.312 272.996 L 468.853 273.263 L 407.683 308.846 L 407.683 320.763 L 407.683 321.374 L 407.084 321.253 L 405.729 320.98 L 405.527 320.939 L 405.413 320.768 L 390.561 298.62 L 301.787 350.26 L 301.787 372.555 L 301.787 373.166 L 301.188 373.045 L 298.68 372.539 L 298.479 372.498 L 298.364 372.327 L 259.68 314.641 L 259.596 314.514 L 259.596 314.362 L 259.596 291.242 L 259.596 290.955 L 259.843 290.81 L 374.813 223.642 L 375.22 223.404 L 375.481 223.796 L 403.288 265.507 L 446.805 240.083 Z M 390.869 297.284 L 385.421 289.16 L 385.421 277.104 L 402.979 266.846 L 414.217 283.702 Z M 89.359 262.678 L 89.359 290.021 L 139.578 365.498 L 142.122 366.011 L 142.122 336.501 L 142.122 336.213 L 142.371 336.068 L 172.248 318.786 L 121.827 244.489 Z M 336.012 176.106 L 336.012 162.087 L 352.596 152.797 L 378.572 191.072 L 363.244 199.939 L 362.995 200.083 L 362.995 200.371 L 362.995 215.438 L 362.055 215.249 Z"
        stroke="rgb(83, 159, 137)"
        fill="transparent"
        pathLength="1"
        strokeDashoffset="0px"
        strokeDasharray="1px 1px"
        className="svg-elem-1"
      ></path>
    </svg>
  );
};

export default AboutPageSVG;
